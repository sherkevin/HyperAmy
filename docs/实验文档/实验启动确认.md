# 实验启动确认和邮件设置

## 实验启动命令

使用conda虚拟环境的python启动：

```bash
ssh jiangh@10.103.16.22
cd /media/data4/jiangh/Amygdala/hyperamy_source
mkdir -p outputs/rigorous_experiment/logs
/media/data4/jiangh/conda/envs/Amygdala/bin/python -m test.test_rigorous_comparison_save > outputs/rigorous_experiment/logs/experiment_$(date +%Y%m%d_%H%M%S).log 2>&1 &
echo $! > outputs/rigorous_experiment/experiment.pid
```

## 检查实验运行

### 检查进程
```bash
ssh jiangh@10.103.16.22 "cd /media/data4/jiangh/Amygdala/hyperamy_source && ps -p \$(cat outputs/rigorous_experiment/experiment.pid)"
```

### 查看日志
```bash
ssh jiangh@10.103.16.22 "cd /media/data4/jiangh/Amygdala/hyperamy_source && tail -f outputs/rigorous_experiment/logs/experiment_*.log"
```

### 检查GPU
```bash
ssh jiangh@10.103.16.22 "nvidia-smi"
```

## 实验完成后发送邮件

### 方法1: 手动检查并发送
```bash
# 检查实验是否完成
ssh jiangh@10.103.16.22 "cd /media/data4/jiangh/Amygdala/hyperamy_source && test -f outputs/rigorous_experiment/comparison_results.json && echo '完成' || echo '未完成'"

# 如果完成，下载结果并发送邮件
cd /Users/ginger/Desktop/学术教育/科研计划/nips/HyperAmy
./scripts/check_and_email.sh
```

### 方法2: 自动监控（后台运行）
```bash
cd /Users/ginger/Desktop/学术教育/科研计划/nips/HyperAmy
nohup ./scripts/monitor_and_email.sh > monitor.log 2>&1 &
```

## 邮件配置

邮件发送脚本: `scripts/send_experiment_email.py`

需要配置QQ邮箱授权码（不是QQ密码）：
1. 登录QQ邮箱
2. 设置 -> 账户 -> 开启SMTP服务
3. 获取授权码
4. 在 `send_experiment_email.py` 中设置 `SENDER_PASSWORD`

## 预计时间

- **总时间**: 2-4 小时
- **Baseline**: 40-80 分钟
- **Enhanced**: 85-170 分钟

## GPU使用

- **GPU数量**: 7个（RTX 3090 x4, RTX 2080 Ti x2）
- **当前状态**: 大部分空闲
- **建议**: 实验主要使用API调用，GPU主要用于可能的本地模型推理

