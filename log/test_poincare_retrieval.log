WARNING 12-29 10:21:02 [importing.py:53] Triton is installed, but `triton.backends` could not be imported. Disabling Triton.
INFO 12-29 10:21:02 [importing.py:68] Triton not installed or not compatible; certain GPU-related functions will not be available.
====================================================================================================
测试：庞加莱球检索功能
====================================================================================================

【Step 1】初始化组件...
✓ 组件初始化成功
  - 投影器: curvature=1.0, scaling_factor=2.0, max_radius=100.0
  - Collection: test_retrieval

【Step 2】创建10个不同的粒子...
✓ 创建了 10 个粒子:
   1. particle_01: speed=0.30, T=0.40, weight=0.9055
   2. particle_02: speed=0.35, T=0.43, weight=0.8246
   3. particle_03: speed=0.40, T=0.46, weight=0.9055
   4. particle_04: speed=0.45, T=0.49, weight=0.8246
   5. particle_05: speed=0.50, T=0.52, weight=0.7071
   6. particle_06: speed=0.55, T=0.55, weight=0.7071
   7. particle_07: speed=0.60, T=0.58, weight=0.5196
   8. particle_08: speed=0.65, T=0.61, weight=0.7348
   9. particle_09: speed=0.70, T=0.64, weight=0.7348
  10. particle_10: speed=0.75, T=0.67, weight=0.6633

【Step 3】存储10个粒子到庞加莱球...
✓ 成功存储 10 个粒子

【Step 4】每隔一段时间创建新粒子并检索...
====================================================================================================

--- 时间点: 0 秒后 ---

查询粒子信息:
  - ID: query_0s
  - 速度: 0.50
  - 温度: 0.50
  - 质量: 0.7244
  - 已过去时间: 0.12 秒

检索结果（找到 10 个粒子，按距离排序）:
----------------------------------------------------------------------------------------------------
排名     ID              距离           速度         温度         质量         匹配类型         状态        
----------------------------------------------------------------------------------------------------
1      particle_01     0.338452     0.3        0.4        0.9055385138137416 direct       正常        
2      particle_02     0.365167     0.35       0.4300000000000001 0.8246211251235323 direct       正常        
3      particle_08     0.599075     0.65       0.61       0.7348469228349533 direct       正常        
4      particle_10     0.739703     0.75       0.67       0.66332495807108 direct       正常        
5      particle_05     1.302017     0.5        0.52       0.7071067811865476 direct       正常        
6      particle_07     1.391109     0.6000000000000001 0.5800000000000001 0.5196152422706632 direct       正常        
7      particle_09     2.176768     0.7        0.64       0.7348469228349533 direct       正常        
8      particle_06     2.317458     0.55       0.55       0.7071067811865476 direct       正常        
9      particle_04     2.569465     0.45       0.49       0.8246211251235323 direct       正常        
10     particle_03     2.730721     0.4        0.46       0.9055385138137416 direct       正常        
----------------------------------------------------------------------------------------------------
排序验证: ✓ 正确排序

距离统计:
  - 最小距离: 0.338452
  - 最大距离: 2.730721
  - 平均距离: 1.452993

最相似的3个粒子:
  1. particle_01 (距离: 0.338452)
  2. particle_02 (距离: 0.365167)
  3. particle_08 (距离: 0.599075)

====================================================================================================

--- 时间点: 5 秒后 ---

查询粒子信息:
  - ID: query_5s
  - 速度: 0.50
  - 温度: 0.50
  - 质量: 0.7244
  - 已过去时间: 5.00 秒

检索结果（找到 10 个粒子，按距离排序）:
----------------------------------------------------------------------------------------------------
排名     ID              距离           速度         温度         质量         匹配类型         状态        
----------------------------------------------------------------------------------------------------
1      particle_01     0.638805     0.3        0.4        0.9055385138137416 direct       正常        
2      particle_02     2.221122     0.35       0.4300000000000001 0.8246211251235323 direct       正常        
3      particle_08     4.739527     0.65       0.61       0.7348469228349533 direct       正常        
4      particle_10     5.657643     0.75       0.67       0.66332495807108 direct       正常        
5      particle_05     5.663137     0.5        0.52       0.7071067811865476 direct       正常        
6      particle_07     6.288666     0.6000000000000001 0.5800000000000001 0.5196152422706632 direct       正常        
7      particle_03     7.059987     0.4        0.46       0.9055385138137416 direct       正常        
8      particle_04     7.133471     0.45       0.49       0.8246211251235323 direct       正常        
9      particle_06     7.344686     0.55       0.55       0.7071067811865476 direct       正常        
10     particle_09     7.896039     0.7        0.64       0.7348469228349533 direct       正常        
----------------------------------------------------------------------------------------------------
排序验证: ✓ 正确排序

距离统计:
  - 最小距离: 0.638805
  - 最大距离: 7.896039
  - 平均距离: 5.464308

最相似的3个粒子:
  1. particle_01 (距离: 0.638805)
  2. particle_02 (距离: 2.221122)
  3. particle_08 (距离: 4.739527)

====================================================================================================

--- 时间点: 10 秒后 ---

查询粒子信息:
  - ID: query_10s
  - 速度: 0.50
  - 温度: 0.50
  - 质量: 0.7244
  - 已过去时间: 10.00 秒

检索结果（找到 10 个粒子，按距离排序）:
----------------------------------------------------------------------------------------------------
排名     ID              距离           速度         温度         质量         匹配类型         状态        
----------------------------------------------------------------------------------------------------
1      particle_01     1.637849     0.3        0.4        0.9055385138137416 direct       正常        
2      particle_02     6.204214     0.35       0.4300000000000001 0.8246211251235323 direct       正常        
3      particle_08     10.451947    0.65       0.61       0.7348469228349533 direct       正常        
4      particle_05     10.651450    0.5        0.52       0.7071067811865476 direct       正常        
5      particle_03     11.554976    0.4        0.46       0.9055385138137416 direct       正常        
6      particle_07     11.777661    0.6000000000000001 0.5800000000000001 0.5196152422706632 direct       正常        
7      particle_10     11.865562    0.75       0.67       0.66332495807108 direct       正常        
8      particle_04     11.877844    0.45       0.49       0.8246211251235323 direct       正常        
9      particle_06     12.586732    0.55       0.55       0.7071067811865476 direct       正常        
10     particle_09     13.872971    0.7        0.64       0.7348469228349533 direct       正常        
----------------------------------------------------------------------------------------------------
排序验证: ✓ 正确排序

距离统计:
  - 最小距离: 1.637849
  - 最大距离: 13.872971
  - 平均距离: 10.248121

最相似的3个粒子:
  1. particle_01 (距离: 1.637849)
  2. particle_02 (距离: 6.204214)
  3. particle_08 (距离: 10.451947)

====================================================================================================

--- 时间点: 20 秒后 ---

查询粒子信息:
  - ID: query_20s
  - 速度: 0.50
  - 温度: 0.50
  - 质量: 0.7244
  - 已过去时间: 20.01 秒

检索结果（找到 10 个粒子，按距离排序）:
----------------------------------------------------------------------------------------------------
排名     ID              距离           速度         温度         质量         匹配类型         状态        
----------------------------------------------------------------------------------------------------
1      particle_01     2.811076     0.3        0.4        0.9055385138137416 direct       正常        
2      particle_02     13.227887    0.35       0.4300000000000001 0.8246211251235323 direct       正常        
3      particle_08     14.932311    0.65       0.61       0.7348469228349533 direct       正常        
4      particle_10     15.504725    0.75       0.67       0.66332495807108 direct       正常        
5      particle_05     16.660963    0.5        0.52       0.7071067811865476 direct       正常        
6      particle_07     17.178883    0.6000000000000001 0.5800000000000001 0.5196152422706632 direct       正常        
7      particle_09     17.861025    0.7        0.64       0.7348469228349533 direct       正常        
8      particle_03     18.096455    0.4        0.46       0.9055385138137416 direct       正常        
9      particle_06     18.109423    0.55       0.55       0.7071067811865476 direct       正常        
10     particle_04     18.131035    0.45       0.49       0.8246211251235323 direct       正常        
----------------------------------------------------------------------------------------------------
排序验证: ✓ 正确排序

距离统计:
  - 最小距离: 2.811076
  - 最大距离: 18.131035
  - 平均距离: 15.251378

最相似的3个粒子:
  1. particle_01 (距离: 2.811076)
  2. particle_02 (距离: 13.227887)
  3. particle_08 (距离: 14.932311)

====================================================================================================

--- 时间点: 50 秒后 ---

查询粒子信息:
  - ID: query_50s
  - 速度: 0.50
  - 温度: 0.50
  - 质量: 0.7244
  - 已过去时间: 50.02 秒

检索结果（找到 10 个粒子，按距离排序）:
----------------------------------------------------------------------------------------------------
排名     ID              距离           速度         温度         质量         匹配类型         状态        
----------------------------------------------------------------------------------------------------
1      particle_01     0.000691     0.3        0.4        0.9055385138137416 direct       正常        
2      particle_02     13.487850    0.35       0.4300000000000001 0.8246211251235323 direct       正常        
3      particle_08     14.933117    0.65       0.61       0.7348469228349533 direct       正常        
4      particle_10     15.504898    0.75       0.67       0.66332495807108 direct       正常        
5      particle_05     16.679453    0.5        0.52       0.7071067811865476 direct       正常        
6      particle_07     17.182594    0.6000000000000001 0.5800000000000001 0.5196152422706632 direct       正常        
7      particle_09     17.861324    0.7        0.64       0.7348469228349533 direct       正常        
8      particle_06     18.116234    0.55       0.55       0.7071067811865476 direct       正常        
9      particle_04     18.170389    0.45       0.49       0.8246211251235323 direct       正常        
10     particle_03     18.185266    0.4        0.46       0.9055385138137416 direct       正常        
----------------------------------------------------------------------------------------------------
排序验证: ✓ 正确排序

距离统计:
  - 最小距离: 0.000691
  - 最大距离: 18.185266
  - 平均距离: 15.012182

最相似的3个粒子:
  1. particle_01 (距离: 0.000691)
  2. particle_02 (距离: 13.487850)
  3. particle_08 (距离: 14.933117)

====================================================================================================

【Step 5】验证检索功能...
----------------------------------------------------------------------------------------------------

测试1: 查询与 particle_01 非常相似的粒子
找到 5 个结果:
  1. particle_01: 距离=0.000691
  2. particle_02: 距离=13.487850
  3. particle_08: 距离=14.933117
  4. particle_10: 距离=15.504898
  5. particle_05: 距离=16.679453

验证: 最相似的粒子是 particle_01? ✓ 是

测试2: 查询与存储粒子完全不同的粒子
找到 5 个结果:
  1. particle_03: 距离=13.100738
  2. particle_04: 距离=14.686219
  3. particle_09: 距离=15.148841
  4. particle_06: 距离=16.969589
  5. particle_07: 距离=17.336325

====================================================================================================
✓ 检索功能测试完成！
====================================================================================================
